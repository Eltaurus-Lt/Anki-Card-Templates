{{#Learnable}}{{#Audio}}
<div class="card-content front">
    <div class="overhead">
		   <div class="mem-instruction">
        Type the correct translation
      </div>
			 {{#Extra}}
					<div class="front-extra">
						<label>Extra</label>
						<span>{{Extra}}</span>
					</div>
				{{/Extra}}
    </div>
    <div class="mem-question memblob">
      {{Audio}}
    </div>
    <div class="mem-typing">
      <label>Learnable</label>
      {{type:Learnable}}
    </div>
</div>
<a id="Lt" href="https://github.com/Eltaurus-Lt/Anki-Card-Templates"></a>
{{/Audio}}{{/Learnable}}


<script>
//keyboard navigation
tabSelected = null;
document.onkeyup = function (e) {
	var ev = window.event || e;
	
	if (ev.key === 'Tab') {
		tabSelected = document.activeElement;
	}
}

document.onkeydown = function (e) {
	var ev = window.event || e;

	if (ev.key === 'Enter' && tabSelected !== document.activeElement) {//last action was NOT selecting element with Tab -> Enter=flip (prevent audio activation)
		if (document.activeElement.matches('a.replay-button.soundLink')) {
			document.activeElement.blur();
		}
		if (flipBtn &&  flipBtn.onclick) {				
			flipBtn.onclick();
		}
	}
}

//Audio buttons animation
audioButtonsFront = document.querySelectorAll('.card-content.front a.replay-button');
audioButtonsFront.forEach((a) => {
	a.addEventListener("click", () => {
		audioButtonsFront.forEach((b) => {
			b.classList.remove('active');
		});
    a.classList.add('active');

		a.classList.remove('pulse');
		void a.offsetHeight;
		a.classList.add('pulse');
	});
});
if (audioButtonsFront && audioButtonsFront.length > 0) {
	audioButtonsFront[0].classList.add('active');
	audioButtonsFront[0].classList.add('pulse');
}
</script>